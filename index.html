<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pbstatus</title>
    <style>
        body { 
            background: #282c34; 
            color: #bbc2cf; 
            font-family: "SF Mono", "Cascadia Code", "JetBrains Mono", monospace;
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
            margin: 0; 
            text-rendering: optimizeLegibility;
        }
        #s { 
            font-size: 2.5rem; 
            font-weight: 700; 
            letter-spacing: -0.03em;
            transition: color 0.2s ease;
        }
        /* Your specific palette */
        .ok { color: #98be65; }
        .ko { color: #ff6c6b; }
        
        .ip { 
            color: #51afef; /* A subtle blue for the IP to match the theme */
            opacity: 0.5;
            margin-top: 1.2rem; 
            font-size: 0.9rem; 
        }
    </style>
</head>
<body>
    <div id="s">...</div>
    <script>
        (async () => {
            const start = Date.now();
            const target = atob('aHR0cHM6Ly9wYXN0YWxidXJyby5kdWNrZG5zLm9yZw');
            const el = document.getElementById('s');

            try {
                // cache-busting via timestamp + no-cors for zero-config handshake
                await fetch(`${target}?t=${start}`, { mode: 'no-cors' });
                el.textContent = `OK ${Date.now() - start}ms`;
                el.className = 'ok';
            } catch (e) {
                el.textContent = 'KO';
                el.className = 'ko';
            }

            // Fetching IP for troubleshooting
            fetch('https://api.ipify.org').then(r => r.text()).then(ip => {
                const d = document.createElement('div');
                d.className = 'ip';
                d.textContent = ip;
                document.body.appendChild(d);
            }).catch(()=>{});
        })();
    </script>
</body>
</html>
